<main class="container py-4 py-lg-5">
  <header class="mb-4">
    <h2 class="display-6 fw-semibold mb-1">Lista documenti legali</h2>
    <p class="text-secondary mb-0">usa i selettori per filtrare i risultati.</p>
  </header>

  <section class="card border-0 shadow-sm">
    <div class="card-body">
      <h2 class="h5 mb-3">Lista documenti</h2>

      <form [formGroup]="filterForm" class="row g-3 mb-3">
        <div class="col-12 col-lg-3">
          <label class="form-label">Cerca</label>
          <input class="form-control" formControlName="search" />
        </div>
        <div class="col-12 col-lg-2">
          <label class="form-label">Piattaforma</label>
          <select class="form-select" formControlName="platform">
            <option value="">tutte</option>
            @for (platform of platforms; track platform.id) {
              <option [value]="platform.id">{{ platform.label }}</option>
            }
          </select>
        </div>
        <div class="col-12 col-lg-2">
          <label class="form-label">Tipo</label>
          <select class="form-select" formControlName="docType">
            <option value="">tutti</option>
            <option value="terms">terms</option>
            <option value="privacy">privacy</option>
            <option value="cookie">cookie</option>
          </select>
        </div>
        <div class="col-12 col-lg-2">
          <label class="form-label">Lingua</label>
          <select class="form-select" formControlName="lang">
            <option value="">tutte</option>
            @for (lang of languages; track lang) {
              <option [value]="lang">{{ lang }}</option>
            }
          </select>
        </div>
        <div class="col-12 col-lg-3 d-flex align-items-end">
          <div class="form-check">
            <input class="form-check-input" id="deleted" type="checkbox" formControlName="includeDeleted" />
            <label class="form-check-label" for="deleted">Mostra eliminati</label>
          </div>
        </div>
      </form>

      <app-documents-list
        [documents]="documents"
        [canDelete]="isAuthenticated()"
        (deleteRequested)="onDelete($event)"
      />
    </div>
  </section>
</main>
